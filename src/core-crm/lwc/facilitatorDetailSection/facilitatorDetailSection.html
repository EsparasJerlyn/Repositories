<template>
    <lightning-spinner if:true={isLoading} alternative-text="Loading..." size="small"></lightning-spinner>
    <div class="slds-clearfix slds-p-top_x-small">
        <lightning-button 
            variant='neutral' 
            label='Link Facilitator' 
            title='Link an Existing Facilitator' 
            onclick={handleLinkFacilitator} 
            class='slds-float_right slds-m-left_small'
            disabled={isStatusCompleted}
        ></lightning-button>
        <lightning-button 
            variant='neutral' 
            label='Create Contact' 
            title='Create a New Contact' 
            onclick={navigateToNewContact} 
            class='slds-float_right'
            disabled={isStatusCompleted}
        ></lightning-button>
    </div>
    <div class="slds-m-vertical_medium slds-scrollable max-height" onitemregister={handleItemRegister}>
        <c-custom-datatable-columned
            key-field="id"
            data={relatedFacilitatorsCopy}
            columns={facilitatorColumns}
            onrowaction={handleRowAction}
            onsave={handleSave}
            oncancel={handleCancel}
            oncellchange={handleCellChange}
            onlookupselect={handleLookupSelect}
            draft-values={draftValues}
            errors={datatableErrors}
            hide-checkbox-column
            show-row-number-column
        ></c-custom-datatable-columned>
        <span if:false={showFacilitatorTable}>
            No record(s) found.
        </span>
    </div>
</template>