<template>
  <lightning-spinner
    if:true={isLoading}
    class="slds-is-absolute slds-align_absolute-center"
    alternative-text="Loading products..."
    size="medium"
    variant="brand"
  >
  </lightning-spinner>

    <header class="slds-m-bottom_medium">
        <div class="slds-grid slds-wrap">
            <div class="aside-section slds-border_bottom slds-p-bottom_medium" if:true={showFiltersIfStudy}>
                <p class="slds-truncate heading-text-courses">Filter courses</p>
            </div>
            <div class="main-section">
                <p class="slds-truncate slds-text-heading_large header-text">{headerText}</p>
            </div>
        </div>
    </header>
    <article class="layout-contiainer">
        <!--Filter-->
        <aside class="aside-section" if:true={showFiltersIfStudy}>
            <lightning-button variant="base" label="Clear all" title="Clear all" onclick={handleClearAll} class="slds-m-left_x-small"></lightning-button>
            <div class="slds-var-m-around_medium">
                <lightning-input
                    label="Filter by Keyword"
                    type="text"
                    value={stringValue}
                    class="slds-var-m-bottom_small"
                    placeholder="e.g name of course or topic"
                    onchange={handleSearchKeyword}
                ></lightning-input>
                Study areas
                <template if:true={studyAreaValues}>
                    <div class="slds-var-m-around_medium">
                        <lightning-input
                            label='All areas'
                            class="chk-studyarea-all"
                            data-id="checkbox"
                            type="checkbox"
                            onchange={handleSelectAllStudyAreas}
                            >
                        </lightning-input>
                        <template for:each={studyAreaValues} for:item="item">
                            <lightning-input
                                key={item.value}
                                label={item.label}
                                value={item.value}
                                data-id="checkbox"
                                class="chk-studyarea"
                                type="checkbox"
                                onchange={handleStudyAreaPicklist}
                            >
                            </lightning-input>
                        </template>
                    </div>
                </template>
                <hr/>
                Delivery
                <template if:true={deliveryTypeValues}>
                    <div class="slds-var-m-around_medium">
                        <lightning-input
                            label='All delivery options'
                            data-id="checkbox"
                            class="chk-deliverytype-all"
                            type="checkbox"
                            onchange={handleSelectAllDeliveryTypes}
                            >
                    </lightning-input>
                        <template for:each={deliveryTypeValues} for:item="item">
                            <lightning-input
                                key={item.value}
                                label={item.label}
                                value={item.value}
                                data-id="checkbox"
                                class="chk-delivery-type"
                                type="checkbox"
                                onchange={handleDeliveryTypePicklist}
                            >
                            </lightning-input>
                        </template>
                    </div>
                </template>
                <hr/>
                Course type
                <template if:true={typeValues}>
                    <div class="slds-var-m-around_medium">
                        <lightning-input
                            label='All types'
                            class="chk-type-all"
                            data-id="checkbox"
                            type="checkbox"
                            onchange={handleSelectAllTypes}
                            >
                        </lightning-input>
                        <template for:each={typeValues} for:item="item">
                            <lightning-input
                                key={item.value}
                                label={item.label}
                                value={item.value}
                                data-id="checkbox"
                                class="chk-types"
                                type="checkbox"
                                onchange={handleTypePicklist}
                            >
                            </lightning-input>
                        </template>
                    </div>
                </template>
               </div>
               <hr/>
                Pricing
                <!-- <lightning-combobox 
                        class="combo-price"
                        name="pricebooks" 
                        value={pricingValue}    
                        options={pricebookOptions} 
                        onchange={handleChangePricebook}> 
                </lightning-combobox> -->
            <c-slider
                onpricevaluechange={handlePriceRangeValueChange}>
            </c-slider>
            <br/>
            <hr/>
            Date
            <div class="slds-m-around_medium">
                <lightning-input type="date" 
                            name="strStartDate" 
                            value={strStartDate} 
                            label="From" 
                            onchange={handleChangeStartDate}>
                </lightning-input>
                <lightning-input type="date" 
                                name="strEndDate" 
                                value={strEndDate} 
                                label="To" 
                                onchange={handleChangeEndDate}>
                </lightning-input>
            </div>
        </aside>
        <section class="main-section">
             <template if:true={productInfoList}>
                <c-product-card
                    product-details = {productInfoList}
                >
                </c-product-card>
            </template>
        <div>
            <c-search-paginator
            if:true={hasMorePages}
            page-number={pageNumber}
            page-size={pageSize}
            total-item-count={displayData.total}
            onprevious={handlePreviousPage}
            onnext={handleNextPage}
            onselectedpage={handleSelectedPage}
            >
              </c-search-paginator>
        </div>
        </section>
    </article>
</template>