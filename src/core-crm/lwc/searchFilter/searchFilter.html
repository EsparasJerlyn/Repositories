<template>
    <lightning-accordion
        allow-multiple-sections-open
        onsectiontoggle={handleSectionToggle}
        active-section-name={activeSections}
    >
        <template for:each={facets} for:item="facet">
            <lightning-accordion-section
                name={facet.id}
                label={facet.displayName}
                key={facet.id}
            >
                <template for:each={facet.values} for:item="filter">
                    <lightning-input
                        class={filter.className}
                        key={filter.nameOrId}
                        label={filter.displayLabel}
                        data-filter-id={filter.nameOrId}
                        data-facet-id={facet.id}
                        type="checkbox"
                        checked={facet.checked}
                        onchange={handleCheckboxChange}
                    ></lightning-input>
                </template>

                <template if:true={facet.hasSeeAll}>
                    <button 
                        data-facet-id={facet.id}
                        onclick={handleSeeAllBtn}
                        class="slds-button slds-m-top_none see-all">
                        See All
                    </button>
                </template>
            </lightning-accordion-section>
        </template>
    </lightning-accordion>
</template>