<template>
    <lightning-accordion allow-multiple-sections-open active-section-name={activeSections}>
        <lightning-accordion-section name='Manage Registrations' label="Manage Registrations" class="accordion-section">
            <lightning-spinner if:true={isLoading} alternative-text="Loading" size="medium"></lightning-spinner> 
            <div >
                <template if:false={empty}>
                    <template if:false={error}>
                        <div class="slds-m-vertical_medium slds-scrollable max-height">
                            <c-custom-datatable-columned
                                key-field="id"
                                data={learnerDetailsListCopy}
                                columns={columns}
                                onsave={handleSave}
                                oncancel={handleCancel}
                                oncellchange={handleCellChange}
                                onpicklistselect={handlePicklistSelect}
                                draft-values={draftValues}
                                hide-checkbox-column
                                show-row-number-column
                            ></c-custom-datatable-columned>
                        </div>
                    </template>
                </template>
                <template if:true={empty}>
                    <div class="
                        slds-text-align_center slds-m-top_small">
                        <strong>{noRecordsFound}</strong>
                    </div>
                </template>
                <template if:true={error}>
                    <div class="
                        slds-text-align_center slds-m-top_small">
                        <strong>{displayTableError}</strong>
                    </div>
                </template>
            </div>
        </lightning-accordion-section>
    </lightning-accordion>
</template>