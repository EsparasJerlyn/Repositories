<template>
    <div class="slds-text-heading_small custom-hover slds-p-bottom_x-small slds-border_bottom sf-green-text sf-bold-text">
        {associatedProductTitle}
    </div>    
    <lightning-layout horizontal-align="left" vertical-align="end">
        <lightning-layout-item class="slds-size_1-of-3 slds-p-right_small slds-p-bottom_medium">
            <div>
                <lightning-input type="search" placeholder="Search Products" onchange={handleProductNameSearch} value={productName}></lightning-input>
            </div>
        </lightning-layout-item>
        <lightning-layout-item class="slds-size_1-of-3 slds-p-left_none slds-p-bottom_medium">
            <div>
                <lightning-button class="sf-bold-text" variant="brand" label="ASSOCIATE PRODUCTS" onclick={handleAssociateProduct}></lightning-button>
            </div>
        </lightning-layout-item>
        <lightning-layout-item class="slds-size_1-of-3 slds-p-left_none slds-p-bottom_medium">
            <div>
                <lightning-combobox
                    value={recordType}                    
                    options={recordTypes}
                    onchange={handleRecordTypeSearch} 
                ></lightning-combobox>
            </div>
        </lightning-layout-item>
    </lightning-layout>    
    <lightning-spinner if:true={isLoading} alternative-text="Loading" size="medium"></lightning-spinner> 
    <div class="slds-scrollable slds-p-bottom_medium">
        <template if:true={productList}>
            <lightning-datatable 
                data={productList} 
                columns={columns} 
                key-field="id" 
                sorted-by={sortBy}
                sorted-direction={sortDirection}
                onsort={handleSort}
                onrowselection={handelSelectedRows}>
            </lightning-datatable>
        </template>
        <template if:true={empty}>
            <div class="slds-float_center">
                {noRecordsFound}
            </div>            
        </template>
    </div>            
    <template if:true={error}>
        {displayTableError}
    </template>
</template>