<template>     
    <template if:true={withCheckboxColumn}>
        <lightning-datatable 
            key-field="id"         
            columns={columns} 
            data={records}               
            sorted-direction={sortDirection}
            sorted-by={sortBy}       
            draft-values={draftValues}
            onsave={handleSave}
            onsort={handleSort} 
            onrowaction={handleRowActions}
            onrowselection={handelSelectedRows}
            max-row-selection={maxRowSelection}
            selected-rows={selectedRows}>
        </lightning-datatable>
    </template> 
    <template if:false={withCheckboxColumn}>
        <lightning-datatable 
            key-field="id"         
            columns={columns} 
            data={records}               
            sorted-direction={sortDirection}
            sorted-by={sortBy}          
            show-row-number-column
            hide-checkbox-column 
            draft-values={draftValues}
            onsave={handleSave}
            onsort={handleSort} 
            onrowaction={handleRowActions}>
        </lightning-datatable>  
    </template>             
</template>